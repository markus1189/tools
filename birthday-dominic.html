<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Dominic</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            height: 100vh;
            background: radial-gradient(circle at 50% 50%, #1a1a2e 0%, #0f0f1e 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        #canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .container {
            position: relative;
            z-index: 2;
            text-align: center;
            pointer-events: none;
        }

        .birthday-text {
            font-size: 4rem;
            font-weight: 300;
            color: #fff;
            letter-spacing: 8px;
            text-transform: uppercase;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 30px rgba(102, 126, 234, 0.4));
        }

        .subtitle {
            margin-top: 20px;
            font-size: 1.5rem;
            font-weight: 200;
            color: rgba(255, 255, 255, 0.6);
            letter-spacing: 4px;
        }

        /* Stats HUD */
        .stats {
            position: fixed;
            top: 30px;
            left: 30px;
            z-index: 10;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            font-weight: 300;
            letter-spacing: 2px;
            pointer-events: none;
        }

        .stat-item {
            margin-bottom: 12px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 12px 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .stat-value {
            color: #667eea;
            font-weight: 500;
            font-size: 1.1rem;
        }

        /* Combo display */
        .combo-display {
            position: fixed;
            top: 30px;
            right: 30px;
            z-index: 10;
            font-size: 1.8rem;
            color: #f093fb;
            font-weight: 300;
            letter-spacing: 3px;
            opacity: 0;
            pointer-events: none;
            text-shadow: 0 0 20px rgba(240, 147, 251, 0.6);
        }

        /* Achievement popup */
        .achievement {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 15;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 24px 30px;
            min-width: 320px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            pointer-events: none;
        }

        .achievement-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .achievement-title {
            color: #f093fb;
            font-size: 1rem;
            font-weight: 500;
            letter-spacing: 2px;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .achievement-desc {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            font-weight: 300;
        }

        /* Interactive elements */
        .interactive-element {
            position: fixed;
            font-size: 2.5rem;
            z-index: 3;
            cursor: pointer;
            pointer-events: all;
            filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.3));
            transition: transform 0.2s ease;
        }

        .interactive-element:hover {
            transform: scale(1.2);
        }

        /* Collectible item */
        .collectible {
            position: fixed;
            font-size: 2rem;
            z-index: 4;
            cursor: pointer;
            pointer-events: all;
            filter: drop-shadow(0 0 20px rgba(102, 126, 234, 0.6));
        }

        /* Score popup */
        .score-popup {
            position: fixed;
            z-index: 20;
            font-size: 1.8rem;
            font-weight: 300;
            color: #667eea;
            letter-spacing: 2px;
            pointer-events: none;
            text-shadow: 0 0 15px rgba(102, 126, 234, 0.8);
        }

        /* Level up notification */
        .level-notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 25;
            font-size: 4rem;
            font-weight: 300;
            color: #f093fb;
            letter-spacing: 8px;
            pointer-events: none;
            text-shadow: 0 0 40px rgba(240, 147, 251, 0.8);
            text-transform: uppercase;
        }

        /* Instructions */
        .instructions {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.85rem;
            font-weight: 300;
            letter-spacing: 2px;
            text-align: center;
            pointer-events: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .birthday-text {
                font-size: 2.5rem;
                letter-spacing: 4px;
            }
            .subtitle {
                font-size: 1rem;
            }
            .stats {
                font-size: 0.8rem;
                top: 15px;
                left: 15px;
            }
            .combo-display {
                font-size: 1.3rem;
                top: 15px;
                right: 15px;
            }
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div class="container">
        <div class="birthday-text" id="birthdayText">Happy Birthday</div>
        <div class="subtitle">Dominic</div>
    </div>

    <!-- Stats HUD -->
    <div class="stats">
        <div class="stat-item">Score <span class="stat-value" id="score">0</span></div>
        <div class="stat-item">Level <span class="stat-value" id="level">1</span></div>
        <div class="stat-item">Best <span class="stat-value" id="highScore">0</span></div>
    </div>

    <!-- Combo display -->
    <div class="combo-display" id="comboDisplay">
        <span id="comboText"></span>
    </div>

    <!-- Instructions -->
    <div class="instructions" id="instructions">
        Click anywhere â€¢ Catch the stars â€¢ Build combos
    </div>

    <!-- Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>

    <script>
        // Game state
        const gameState = {
            score: 0,
            level: 1,
            combo: 0,
            comboTimer: null,
            highScore: parseInt(localStorage.getItem('birthdayHighScore')) || 0,
            achievements: []
        };

        // Update high score display
        document.getElementById('highScore').textContent = gameState.highScore;

        // Canvas setup
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // Element collections
        const elements = {
            decorative: ['âœ¨', 'â­', 'ðŸ’«', 'ðŸŒŸ', 'âœ¦', 'â—†', 'â—‡', 'â™¦'],
            special: ['ðŸŽ', 'ðŸŽˆ', 'ðŸŽ‰', 'ðŸŽŠ', 'ðŸŽ†', 'ðŸ’'],
            rare: ['ðŸ’Ž', 'ðŸ‘‘', 'ðŸ†', 'ðŸŒ ']
        };

        // Achievements
        const achievements = [
            { id: 'starter', name: 'Getting Started', desc: 'First 10 points', icon: 'ðŸŽ¯', check: () => gameState.score >= 10 },
            { id: 'combo5', name: 'Combo Starter', desc: '5x combo achieved', icon: 'ðŸ”¥', check: () => gameState.combo >= 5 },
            { id: 'fifty', name: 'Half Century', desc: '50 points scored', icon: 'â­', check: () => gameState.score >= 50 },
            { id: 'hundred', name: 'Century', desc: '100 points reached', icon: 'ðŸ’«', check: () => gameState.score >= 100 },
            { id: 'combo10', name: 'Combo Master', desc: '10x combo achieved', icon: 'ðŸ’¥', check: () => gameState.combo >= 10 },
            { id: 'level5', name: 'Expert', desc: 'Reached level 5', icon: 'ðŸŒŸ', check: () => gameState.level >= 5 },
            { id: 'pro', name: 'Professional', desc: '250 points scored', icon: 'ðŸ‘‘', check: () => gameState.score >= 250 }
        ];

        // Update score
        function updateScore(points, x, y) {
            const multiplier = Math.max(1, gameState.combo);
            const earnedPoints = points * multiplier;
            gameState.score += earnedPoints;

            document.getElementById('score').textContent = gameState.score;

            // High score
            if (gameState.score > gameState.highScore) {
                gameState.highScore = gameState.score;
                localStorage.setItem('birthdayHighScore', gameState.highScore);
                document.getElementById('highScore').textContent = gameState.highScore;

                gsap.to('#highScore', {
                    scale: 1.3,
                    duration: 0.3,
                    yoyo: true,
                    repeat: 1
                });
            }

            // Show score popup
            showScorePopup(earnedPoints, x, y);

            // Level up check
            const newLevel = Math.floor(gameState.score / 100) + 1;
            if (newLevel > gameState.level) {
                gameState.level = newLevel;
                document.getElementById('level').textContent = gameState.level;
                showLevelUp();
            }

            // Combo
            updateCombo();

            // Check achievements
            checkAchievements();
        }

        // Combo system
        function updateCombo() {
            gameState.combo++;
            const display = document.getElementById('comboDisplay');
            const text = document.getElementById('comboText');

            if (gameState.combo > 1) {
                text.textContent = `${gameState.combo}Ã— COMBO`;
                gsap.to(display, { opacity: 1, scale: 1.1, duration: 0.2 });
                gsap.to(display, { scale: 1, duration: 0.2, delay: 0.2 });
            }

            clearTimeout(gameState.comboTimer);
            gameState.comboTimer = setTimeout(() => {
                gameState.combo = 0;
                gsap.to(display, { opacity: 0, duration: 0.3 });
            }, 2000);

            checkAchievements();
        }

        // Show score popup
        function showScorePopup(points, x, y) {
            const popup = document.createElement('div');
            popup.className = 'score-popup';
            popup.textContent = `+${points}`;
            popup.style.left = x + 'px';
            popup.style.top = y + 'px';
            document.body.appendChild(popup);

            gsap.fromTo(popup,
                { opacity: 1, y: 0, scale: 0.5 },
                {
                    opacity: 0,
                    y: -100,
                    scale: 1.5,
                    duration: 1,
                    ease: 'power2.out',
                    onComplete: () => popup.remove()
                }
            );
        }

        // Level up notification
        function showLevelUp() {
            const notification = document.createElement('div');
            notification.className = 'level-notification';
            notification.textContent = `Level ${gameState.level}`;
            document.body.appendChild(notification);

            gsap.fromTo(notification,
                { opacity: 0, scale: 0 },
                {
                    opacity: 1,
                    scale: 1,
                    duration: 0.5,
                    ease: 'back.out(1.7)'
                }
            );

            gsap.to(notification, {
                opacity: 0,
                scale: 0.5,
                duration: 0.5,
                delay: 1.5,
                onComplete: () => notification.remove()
            });

            confetti({
                particleCount: 100,
                spread: 120,
                origin: { y: 0.5 },
                colors: ['#667eea', '#764ba2', '#f093fb']
            });
        }

        // Achievement system
        function checkAchievements() {
            achievements.forEach(achievement => {
                if (!gameState.achievements.includes(achievement.id) && achievement.check()) {
                    gameState.achievements.push(achievement.id);
                    showAchievement(achievement);
                }
            });
        }

        function showAchievement(achievement) {
            const div = document.createElement('div');
            div.className = 'achievement';
            div.innerHTML = `
                <div class="achievement-icon">${achievement.icon}</div>
                <div class="achievement-title">${achievement.name}</div>
                <div class="achievement-desc">${achievement.desc}</div>
            `;
            document.body.appendChild(div);

            gsap.fromTo(div,
                { x: 400, opacity: 0 },
                { x: 0, opacity: 1, duration: 0.5, ease: 'power3.out' }
            );

            gsap.to(div, {
                x: 400,
                opacity: 0,
                duration: 0.5,
                delay: 3.5,
                ease: 'power3.in',
                onComplete: () => div.remove()
            });

            confetti({
                particleCount: 50,
                spread: 60,
                origin: { x: 0.9, y: 0.8 },
                colors: ['#f093fb', '#667eea', '#764ba2']
            });
        }

        // Create interactive elements
        function createInteractiveElements() {
            const positions = [
                { x: '10%', y: '15%' },
                { x: '90%', y: '15%' },
                { x: '10%', y: '85%' },
                { x: '90%', y: '85%' },
                { x: '15%', y: '50%' },
                { x: '85%', y: '50%' }
            ];

            positions.forEach((pos, index) => {
                const element = document.createElement('div');
                element.className = 'interactive-element';
                element.textContent = elements.decorative[Math.floor(Math.random() * elements.decorative.length)];
                element.style.left = pos.x;
                element.style.top = pos.y;

                element.addEventListener('click', (e) => {
                    e.stopPropagation();
                    updateScore(10, e.clientX, e.clientY);

                    gsap.to(element, {
                        rotation: 360,
                        scale: 1.5,
                        duration: 0.5,
                        onComplete: () => {
                            gsap.set(element, { rotation: 0, scale: 1 });
                        }
                    });

                    confetti({
                        particleCount: 20,
                        spread: 60,
                        origin: {
                            x: e.clientX / window.innerWidth,
                            y: e.clientY / window.innerHeight
                        }
                    });
                });

                document.body.appendChild(element);

                // Subtle floating animation
                gsap.to(element, {
                    y: '+=20',
                    duration: 2 + Math.random() * 2,
                    yoyo: true,
                    repeat: -1,
                    ease: 'sine.inOut',
                    delay: Math.random() * 2
                });
            });
        }

        // Spawn collectibles
        function spawnCollectible() {
            const collectible = document.createElement('div');
            collectible.className = 'collectible';

            const isRare = Math.random() > 0.85;
            const collection = isRare ? elements.rare : elements.special;
            collectible.textContent = collection[Math.floor(Math.random() * collection.length)];

            const startX = Math.random() * (window.innerWidth - 100);
            const startY = Math.random() * (window.innerHeight - 100);

            collectible.style.left = startX + 'px';
            collectible.style.top = startY + 'px';

            collectible.addEventListener('click', (e) => {
                e.stopPropagation();
                const points = isRare ? 50 : 25;
                updateScore(points, e.clientX, e.clientY);

                gsap.to(collectible, {
                    scale: 2,
                    opacity: 0,
                    duration: 0.4,
                    ease: 'power2.out',
                    onComplete: () => collectible.remove()
                });

                confetti({
                    particleCount: isRare ? 80 : 40,
                    spread: isRare ? 100 : 70,
                    origin: {
                        x: e.clientX / window.innerWidth,
                        y: e.clientY / window.innerHeight
                    },
                    colors: isRare ? ['#f093fb', '#ffd700', '#ff69b4'] : ['#667eea', '#764ba2', '#f093fb']
                });
            });

            document.body.appendChild(collectible);

            // Animate appearance and floating
            gsap.fromTo(collectible,
                { scale: 0, opacity: 0 },
                { scale: 1, opacity: 1, duration: 0.5, ease: 'back.out(1.7)' }
            );

            gsap.to(collectible, {
                y: '+=30',
                duration: 2,
                yoyo: true,
                repeat: -1,
                ease: 'sine.inOut'
            });

            gsap.to(collectible, {
                rotation: 360,
                duration: 4,
                repeat: -1,
                ease: 'none'
            });

            // Remove after timeout
            setTimeout(() => {
                if (document.body.contains(collectible)) {
                    gsap.to(collectible, {
                        scale: 0,
                        opacity: 0,
                        duration: 0.5,
                        onComplete: () => collectible.remove()
                    });
                }
            }, 6000);
        }

        // Spawn collectibles periodically
        setInterval(spawnCollectible, 3500);

        // Particle system
        class Particle {
            constructor(x, y, color) {
                this.x = x;
                this.y = y;
                this.vx = (Math.random() - 0.5) * 4;
                this.vy = (Math.random() - 0.5) * 4;
                this.color = color;
                this.alpha = 1;
                this.size = Math.random() * 3 + 1;
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.vy += 0.05;
                this.vx *= 0.99;
                this.vy *= 0.99;
                this.alpha -= 0.008;
                this.size *= 0.99;
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }

        let particles = [];

        function createParticles(x, y, count = 30) {
            const colors = ['#667eea', '#764ba2', '#f093fb', '#fff'];
            for (let i = 0; i < count; i++) {
                particles.push(new Particle(x, y, colors[Math.floor(Math.random() * colors.length)]));
            }
        }

        function animateParticles() {
            ctx.fillStyle = 'rgba(26, 26, 46, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            particles = particles.filter(particle => particle.alpha > 0);
            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });

            requestAnimationFrame(animateParticles);
        }

        // Click interaction
        canvas.addEventListener('click', (e) => {
            updateScore(5, e.clientX, e.clientY);
            createParticles(e.clientX, e.clientY, 40);

            confetti({
                particleCount: 30,
                spread: 50,
                origin: {
                    x: e.clientX / window.innerWidth,
                    y: e.clientY / window.innerHeight
                },
                colors: ['#667eea', '#764ba2', '#f093fb']
            });
        });

        // Mouse trail
        document.addEventListener('mousemove', (e) => {
            if (Math.random() > 0.92) {
                createParticles(e.clientX, e.clientY, 2);
            }
        });

        // Ambient particles
        setInterval(() => {
            const x = Math.random() * canvas.width;
            const y = Math.random() * canvas.height;
            createParticles(x, y, 15);
        }, 4000);

        // Ambient confetti
        setInterval(() => {
            confetti({
                particleCount: 20,
                spread: 100,
                origin: { x: Math.random(), y: Math.random() * 0.6 },
                colors: ['#667eea', '#764ba2', '#f093fb']
            });
        }, 3000);

        // Initialize
        createInteractiveElements();
        animateParticles();

        // Initial animations
        gsap.from('.birthday-text', {
            opacity: 0,
            y: -50,
            duration: 1.5,
            ease: 'power3.out'
        });

        gsap.from('.subtitle', {
            opacity: 0,
            duration: 1.5,
            delay: 0.5,
            ease: 'power3.out'
        });

        gsap.to('.birthday-text', {
            backgroundPosition: '200% center',
            duration: 5,
            repeat: -1,
            ease: 'none'
        });

        gsap.to('.instructions', {
            opacity: 0,
            duration: 1,
            delay: 5
        });

        // Initial celebration
        setTimeout(() => {
            confetti({
                particleCount: 150,
                spread: 100,
                origin: { y: 0.6 },
                colors: ['#667eea', '#764ba2', '#f093fb']
            });
        }, 800);
    </script>
</body>
</html>
